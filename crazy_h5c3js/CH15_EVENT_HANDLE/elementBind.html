<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>JS校验表单</title>
</head>

<body>

	<div>
		<h2>数据校验表单</h2>
		<form method="post" onsubmit="return check(this);" id="register" name="register" action="#">
			USERNAME&nbsp;:&nbsp;<input type="text" name="user"/><br>
			PASSWORD&nbsp;:&nbsp;<input type="password" name="password"/><br>
			EMAIL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<input type="text" name="email"/><br>
			<input type="submit" value="Submit"/>
		</form>
	</div>

	<script>

		// 为字符串增加`trim`方法, 使用正则表达式截取空格;
		String.prototype.trim = function() {
			return this.replace(/^\s*/, "").replace(/\s*$/, "");
		}

		// 负责处理表单`submit`
		var check = function() {

			// 访问页面中的第一个表单;
			var form = document.forms[0];
			var errStr = "";

			// 用户名不为空检测;
			if(form.user.value == null || form.user.value.trim() == "") {
				errStr += "\nUsername can't be empty!";
				form.user.focus();
			}

			// 密码不为空检测;
			if(form.password.value == null || form.password.value.trim() == "") {
				errStr += "\nPassword can't be empty!";
				form.password.focus();
			}

			// 电子邮件不为空检测;
			if(form.email.value == null || form.email.value.trim() == "") {
				errStr += "\nEmail can't be empty!";
				form.email.focus();
			}

			// Use RegExp to verify the format of Email input;
			if(!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(form.email.value.trim())) {
				errStr += "\nEmail format is wrong!";
				form.email.focus();
			}

			if(errStr != "") {
				alert(errStr);
				return false;
			}
		}

	</script>


</body>
</html>